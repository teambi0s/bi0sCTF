#pragma once
#include <string.h>
#include "../crypto/chall.c"

#define MAX_TASKS 10
#define MAX_LEN 256
#define ull unsigned long long

struct note{
    char content[0x20];
    ull id;
};

static unsigned long long curr_id = 0;
struct note* noteBook[MAX_TASKS];

ull addNote(char* content){
    if(curr_id == MAX_TASKS || strlen(content) >= 0x20){
        return -1;
    }
    noteBook[curr_id] = (struct note*)talloc(sizeof(struct note), content);
    return curr_id++;
}

void deleteNote(ull id){
    if(id >= MAX_TASKS){
        return;
    }
    tree((char*)noteBook[id]);
    curr_id--;
}

void edit(char* content, ull id){
    if(id >= MAX_TASKS){
        return;
    }
    memcpy(noteBook[id], content, strlen(content));
}

char* getContents(ull id){
    if(id >= MAX_TASKS){
        return "lol nice try.";
    }
    char* bob = "Only for premium users";
    return bob;
}

int* getId(ull id){
    int bob[8] = {0};
    ull idValue = noteBook[id]->id;
    if(id >= MAX_TASKS){
        return bob;
    }
    for(int i=0;i<8;i++){
        bob[7-i] = idValue%0x100;
        idValue = idValue / 0x100;
    }
    return bob;
}

int main(){
    return 0;
}